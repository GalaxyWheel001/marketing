<!DOCTYPE html>
<html lang="tr">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Ã–zel Finansal Sistem: Gizli Algoritma</title>
   <!-- Load Tailwind CSS -->
   <script src="https://cdn.tailwindcss.com"></script>
   <style>
       /* Custom Styling for visual appeal and mobile readiness */
       @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900;800&display=swap');
       body {
           font-family: 'Inter', sans-serif;
           background-color: #0d0d0d; /* Very dark background */
       }
       .quiz-container {
           max-width: 450px;
           margin: 2rem auto;
           background: #1c1c1c; /* Dark card */
           box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7);
       }
       .question-card {
           min-height: 250px; /* Ensure visual stability across questions */
       }
       .answer-button {
           transition: all 0.2s ease-in-out;
           cursor: pointer;
           border: 2px solid #FFD700; /* Gold border */
           color: #FFD700;
           background-color: #333;
           font-weight: 700;
       }
       .answer-button:hover {
           background-color: #FFD700;
           color: #1c1c1c;
           transform: translateY(-2px);
           box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
       }
       .back-button, .retry-button {
           transition: all 0.2s ease-in-out;
           border: 1px solid #777;
           color: #aaa;
           background-color: #2a2a2a;
       }
       .back-button:hover, .retry-button:hover {
           background-color: #444;
           color: #fff;
       }
       .retry-button {
            border-color: #10B981; /* Green for retry */
            color: #10B981;
            font-weight: 700;
       }
       .retry-button:hover {
           background-color: #10B981;
           color: #1c1c1c;
       }
       .loader {
           border-top-color: #FFD700;
           -webkit-animation: spin 1s linear infinite;
           animation: spin 1s linear infinite;
       }
       @keyframes spin {
           0% { transform: rotate(0deg); }
           100% { transform: rotate(360deg); }
       }
       .progress-bar-fill {
           transition: width 0.5s ease-in-out;
       }
   </style>
</head>
<body>


   <!-- Main Quiz Container -->
   <div id="app" class="quiz-container p-6 sm:p-8 rounded-xl text-white">


       <!-- Authority Figure (Aslan ErtÃ¼rk) Placeholder & Story -->
       <div class="flex items-center justify-center mb-6 border-b border-yellow-800/50 pb-4">
           <!-- Placeholder for Aslan ErtÃ¼rk's image/icon -->
           <svg class="w-12 h-12 text-yellow-400 mr-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
           <div>
               <h2 class="text-xl font-extrabold text-white leading-none">ASLAN ERTÃœRK</h2>
               <p class="text-sm text-yellow-500 font-semibold italic">"AlgoritmanÄ±n SÄ±rrÄ±nÄ± Ã‡Ã¶zdÃ¼m."</p>
           </div>
       </div>


       <h1 class="text-3xl font-black text-center mb-2 text-yellow-400">
           GÄ°ZLÄ° SÄ°STEM ERÄ°ÅÄ°M TESTÄ°
       </h1>
      
       <!-- Scarcity & Dynamic Countdown -->
       <div id="scarcityMessage" class="text-center mb-4 p-2 bg-red-800/20 rounded-lg">
           <p class="text-sm font-bold text-red-400">âš ï¸ SON KONTENJANLAR Ä°Ã‡Ä°N KÄ°ÅÄ°SEL KODUNUZU ALIN!</p>
           <p id="countdown" class="text-lg font-extrabold text-red-300"></p>
       </div>


       <!-- Progress Bar -->
       <div class="w-full bg-gray-700 rounded-full h-2.5 mb-8">
           <div id="progressBar" class="bg-yellow-500 h-2.5 rounded-full progress-bar-fill" style="width: 0%"></div>
       </div>


       <!-- Dynamic Content Area -->
       <div id="quizContent" class="question-card flex flex-col justify-center items-center text-center">
           <!-- Content rendered by JavaScript -->
       </div>
      
       <!-- Dynamic Stat/Momentum Injection -->
       <p id="statInjection" class="text-xs text-green-400 mt-4 h-5"></p>


       <!-- Hidden Loader -->
       <div id="loader" class="hidden flex justify-center items-center py-8">
           <div class="loader ease-linear rounded-full border-4 border-t-4 h-12 w-12 border-gray-200"></div>
       </div>
   </div>


   <script>
       // Global state for the quiz
       let currentStep = 1;
       let history = []; // Tracks previous steps for 'Geri DÃ¶n'
       let isRedirecting = false;
       let quizStartTime = Date.now();
       const INITIAL_COUNTDOWN_MINUTES = 30; // Simulated timer


       // --- DOM Elements ---
       const quizContent = document.getElementById('quizContent');
       const loader = document.getElementById('loader');
       const progressBar = document.getElementById('progressBar');
       const statInjection = document.getElementById('statInjection');
       const countdownElement = document.getElementById('countdown');


       // --- Configuration & Content (Turkish) ---
       const QUIZ_FLOW = {
           1: {
               // HIGH AFFIRMATION 1: Easy "Yes" for desire.
               question: "Gelirinizi artÄ±rarak kendinize ve ailenize daha konforlu bir hayat sunmak istiyor musunuz?",
               answers: [
                   { text: "EVET, KESÄ°NLÄ°KLE!", next: '1B', type: 'yes' },
                   { text: "Åimdilik hayÄ±r.", next: 'error_low_desire', type: 'no' }
               ],
               progress: 10,
               tag: 'easy_affirmation_1'
           },
           '1B': {
               // HIGH AFFIRMATION 2: Easy "Yes" for taking action.
               question: "Haftada sadece 30 dakikanÄ±zÄ± ayÄ±rarak, binlerce TL kazanma potansiyeli olan bir sisteme hemen dahil olmaya istekli misiniz?",
               answers: [
                   { text: "HEMEN BAÅLAYALIM!", next: '1C', type: 'yes' },
                   { text: "Emin deÄŸilim.", next: 'error_low_desire', type: 'no' }
               ],
               progress: 25,
               tag: 'easy_affirmation_2'
           },
           '1C': {
               // FTD Commitment Check - SOFT/Compliance Safe (Qualification Step 1)
               // Explicit 200 TL mention + 500 TL scarcity threat.
               question: "BU FIRSAT SADECE BUGÃœNE Ã–ZEL: Sadece **200 TL** gibi kÃ¼Ã§Ã¼k bir baÅŸlangÄ±Ã§ sermayesi koyarak 10.000 TL ve Ã¼stÃ¼nÃ¼ kazanmaya hazÄ±rsanÄ±z 'Evet' deyin. (Åimdi baÅŸlamazsanÄ±z giriÅŸ 500 TL'ye yÃ¼kselecektir!)",
               answers: [
                   { text: "Evet, 200 TL Sermayem HazÄ±r.", next: '1C_Relate', type: 'yes' },
                   { text: "Åu an sermaye ayÄ±ramam.", next: 'error_budget', type: 'no' }
               ],
               progress: 45,
               tag: 'ftd_soft_check'
           },
           '1C_Relate': {
               // NEW: Aslan ErtÃ¼rk Empathy Interstitial
               question: 'Aslan ErtÃ¼rk\'ten Not: "Åu an ÅŸÃ¼phe duyduÄŸunuzu biliyorum, ben de bu iÅŸe ilk baÅŸladÄ±ÄŸÄ±mda aynÄ± tereddÃ¼tleri yaÅŸadÄ±m. Ancak bu sistemi Ã§Ã¶zdÃ¼kten sonra her ÅŸey deÄŸiÅŸti. Bu yÃ¼zden sizi anlÄ±yorum ve artÄ±k ÅŸÃ¼pheyi bÄ±rakÄ±p kazanma kararlÄ±lÄ±ÄŸÄ±nÄ±zÄ± gÃ¶rmek istiyorum."',
               answers: [
                   { text: "ÅÃ¼phe bitti, YÃ¼zde YÃ¼z KararlÄ±yÄ±m!", next: '2A', type: 'yes' }
               ],
               progress: 60,
               tag: 'aslan_empathy_note'
           },
           '2A': {
               // Trust Check (Qualification Step 2) - Authority and Skepticism
               question: "Aslan ErtÃ¼rk'Ã¼n bu *gizli algoritmanÄ±n sÄ±rrÄ±nÄ± Ã§Ã¶zdÃ¼ÄŸÃ¼ne* ve size gÃ¶sterilen hedefe niÅŸan almanÄ±n garanti olduÄŸuna inanÄ±yor musunuz?",
               answers: [
                   { text: "Evet, bu fÄ±rsata gÃ¼veniyorum.", next: '2B', type: 'yes' },
                   { text: "Ã–nce kanÄ±t gÃ¶rmeliyim.", next: '2A_Trust', type: 'no_skeptic' }
               ],
               progress: 70,
               tag: 'trust_check_authority'
           },
           '2A_Trust': {
                // Trust builder using Authority quote (The "Aslan's Story")
               question: 'Aslan ErtÃ¼rk\'ten Gelen Mesaj: "Korku, kazancÄ±n tek dÃ¼ÅŸmanÄ±dÄ±r. BaÅŸlamak iÃ§in sadece gÃ¼ven ve kararlÄ±lÄ±k gerekir. Sistemi kullanmaya **artÄ±k** kararlÄ± mÄ±sÄ±nÄ±z?"',
               answers: [
                   { text: "KESÄ°NLÄ°KLE KARARLIYIM!", next: '2B', type: 'yes' },
                   { text: "Hala tam emin deÄŸilim.", next: 'error', type: 'no' }
               ],
               progress: 75,
               tag: 'authority_close'
           },
           '2B': {
               // Demographic Check (For salesman segmentation)
               question: "Size en uygun yol haritasÄ±nÄ± oluÅŸturmak iÃ§in, lÃ¼tfen hangi yaÅŸ grubunda olduÄŸunuzu seÃ§in:",
               answers: [
                   { text: "20-35 YaÅŸ (HÄ±zlÄ± Kazanma Ä°steÄŸi)", next: '3', type: 'dem_young' },
                   { text: "36-55 YaÅŸ (Gelecek KaygÄ±sÄ±)", next: '3', type: 'dem_mid' },
                   { text: "55+ YaÅŸ (Emeklilik/Ek Gelir)", next: '3', type: 'dem_old' }
               ],
               progress: 85,
               tag: 'demographic_capture'
           },
           3: {
               // High Intent / Final RD Mindset Check (Obsession Check) & Telegram Call-to-Action
               question: "Kazanmaya baÅŸladÄ±ktan sonra, parayÄ± Ã§ekip bÄ±rakmak yerine, kazancÄ±nÄ±zÄ± katlayarak (RD) sistemi sÃ¼rekli kullanÄ±p hayatÄ±nÄ±zÄ± tamamen mi deÄŸiÅŸtireceksiniz?",
               answers: [
                   { text: "Mutlaka! Her seferinde katlayarak devam edeceÄŸim!", next: 'redirect', type: 'yes' },
                   { text: "Sadece ilk kazancÄ± Ã§ekerim.", next: 'error', type: 'no' } // Low recurrence/quality exit
               ],
               progress: 95,
               tag: 'rd_quality'
           },
           'error_budget': {
               // Low FTD budget drop/fail state (NON-TERMINAL - User can retry)
               question: "ÃœzgÃ¼nÃ¼z. Bu sistem, sadece **200 TL** gibi kÃ¼Ã§Ã¼k bir baÅŸlangÄ±Ã§ sermayesi (ayrÄ±lmÄ±ÅŸ fon) olan yÃ¼ksek potansiyelli yatÄ±rÄ±mcÄ±lar iÃ§in rezerve edilmiÅŸtir. BugÃ¼n bu fÄ±rsatÄ± kaÃ§Ä±rÄ±rsanÄ±z giriÅŸ Ã¼creti 500 TL olacaktÄ±r.",
               answers: [
                   { text: "BÃ¼tÃ§eyi AyarladÄ±m, Tekrar Dene!", next: '1C', type: 'retry' }
               ],
               tag: 'exit_low_budget',
               isTerminal: false, // Override isTerminal for controlled retry flow
               isError: true // Mark as error step
           },
            'error_low_desire': {
               // Low FTD budget drop/fail state
               question: "Bu, sadece *hayatÄ±nÄ± deÄŸiÅŸtirmek* zorunda olanlarÄ±n girebileceÄŸi Ã§ok Ã¶zel bir gruptur. Sizin iÃ§in henÃ¼z doÄŸru zaman deÄŸil.",
               answers: [],
               tag: 'exit_low_desire',
               isTerminal: true
           },
           'error': {
               // Low Intent Drop/Fail State (Not warm enough or no RD desire)
               question: "AnlÄ±yoruz. Bu fÄ±rsat, sadece **sÃ¼rekli kazanmaya** ve hayatÄ±nÄ± deÄŸiÅŸtirmeye *yÃ¼zde yÃ¼z* kararlÄ± olanlar iÃ§in tasarlanmÄ±ÅŸtÄ±r. Åimdilik bu size uygun deÄŸil.",
               answers: [],
               tag: 'exit_low_intent',
               isTerminal: true
           }
       };
      
       const STAT_MESSAGES = [
           "âœ… Ä°statistik: Sistemimizi kullananlarÄ±n %99'u ilk gÃ¼n 5000 TL'yi aÅŸtÄ±!",
           "ğŸ”¥ Gizli Algoritma ile dÃ¼n 112 kullanÄ±cÄ± baÅŸlangÄ±Ã§ sermayesini 10.000 TL'nin Ã¼zerine Ã§Ä±kardÄ±!",
           "â³ Kaybedilen her saniye, yÃ¼zlerce TL'lik kazanÃ§ fÄ±rsatÄ±nÄ± kaÃ§Ä±rmak demektir."
       ];


       // --- Utility Functions ---
      
       /** Updates the progress bar visually. */
       function updateProgress(percentage) {
           progressBar.style.width = `${percentage}%`;
       }
      
       /** Starts the simulated countdown timer */
       function startCountdown() {
           const expiry = quizStartTime + (INITIAL_COUNTDOWN_MINUTES * 60 * 1000);
          
           const interval = setInterval(() => {
               const now = Date.now();
               const remaining = expiry - now;


               if (remaining <= 0) {
                   clearInterval(interval);
                   countdownElement.textContent = "SÃ¼re Doldu! EriÅŸim KapandÄ±.";
                   return;
               }


               const minutes = Math.floor(remaining / 60000);
               const seconds = Math.floor((remaining % 60000) / 1000);


               countdownElement.textContent = `SÃ¼reniz: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
           }, 1000);
       }




       /** Injects a positive message to build momentum. */
       function injectStat() {
           const randomIndex = Math.floor(Math.random() * STAT_MESSAGES.length);
           statInjection.textContent = STAT_MESSAGES[randomIndex];
           statInjection.classList.remove('h-5');
           setTimeout(() => {
               statInjection.classList.add('h-5');
               statInjection.textContent = ''; // Clear after a brief display
           }, 3000);
       }


       /**
        * Renders the current step's content to the screen.
        * @param {string|number} stepKey - Key in the QUIZ_FLOW object.
        */
       function renderStep(stepKey) {
           const step = QUIZ_FLOW[stepKey];
           if (!step) return;


           // Only push to history if not moving to an error state and not rendering an error state
           if (currentStep !== stepKey && !step.isError && !QUIZ_FLOW[currentStep]?.isError && currentStep !== 1) {
                history.push(currentStep);
           }
          
           currentStep = stepKey;
          
           if (step.progress) {
               updateProgress(step.progress);
           }


           let html = '';
          
           html += `
               <div class="text-xl sm:text-2xl font-bold text-white mb-8 transition-opacity duration-500">
                   ${step.question}
               </div>
               <div class="w-full space-y-4">
           `;


           step.answers.forEach((answer, index) => {
               const uniqueId = `${stepKey}-${index}`;
               const buttonClass = answer.type === 'retry' ? 'retry-button' : 'answer-button';
              
               html += `
                   <button id="${uniqueId}"
                       class="${buttonClass} w-full text-lg p-4 font-semibold rounded-lg text-center shadow-lg transition-transform"
                       data-next="${answer.next}"
                       data-type="${answer.type}"
                       onclick="handleAnswer(this)">
                       ${answer.text}
                   </button>
               `;
           });


           html += `</div>`;
          
           // Add Back Button Logic
           const isFirstStep = stepKey === 1;
           const isTerminal = step.isTerminal || false;
           const isError = step.isError || false; // Check if it's an error screen


           if (!isFirstStep && !isTerminal && !isError) {
                html += `
                   <button class="back-button w-full mt-6 text-base p-2 rounded-lg"
                       onclick="goBack()">
                       <span class="mr-2">â†</span> Geri DÃ¶n
                   </button>
               `;
           }


           quizContent.style.opacity = '0';
           setTimeout(() => {
               quizContent.innerHTML = html;
               quizContent.style.opacity = '1';
           }, 200);


           loader.classList.add('hidden');
       }
      
       /** Handles navigation back to the previous step. */
       function goBack() {
           if (history.length > 0) {
               // Get the last step from history and navigate
               const previousStep = history.pop();
               renderStep(previousStep);
           } else {
               // If history is empty, ensure we are at step 1
               renderStep(1);
           }
       }


       /**
        * Handles button click and advances the quiz.
        * @param {HTMLElement} button - The button element clicked.
        */
       function handleAnswer(button) {
           const nextStep = button.getAttribute('data-next');
           const answerType = button.getAttribute('data-type');


           if (isRedirecting) return;


           quizContent.style.opacity = '0';
           loader.classList.remove('hidden');
          
           // History is managed in renderStep now for better control on back/forward flow


           // Track 'Evet' or 'Mutlaka' instances
           if (answerType.includes('yes')) {
               injectStat();
           }


           // Process next step
           setTimeout(() => {
               if (nextStep === 'redirect') {
                   handleRedirect(answerType === 'yes_warn');
               } else if (nextStep.startsWith('error')) {
                   // Render error state, history management happens inside renderStep
                   renderStep(nextStep);
               } else {
                   renderStep(nextStep);
               }
           }, 500);
       }


       /**
        * Final step: Redirect to Telegram channel with user-warming message.
        * @param {boolean} needsInstall - Whether the user needs to install Telegram first.
        */
       function handleRedirect(needsInstall) {
           isRedirecting = true;
           updateProgress(100);
           history = []; // Clear history


           // Hide scarcity message and clean up stat injection
           document.getElementById('scarcityMessage').classList.add('hidden');
           statInjection.classList.add('hidden');


           const telegramUsername = 'AslanErturk'; // Replace with actual Telegram username
           const redirectLink = `https://t.me/${telegramUsername}`;


           const successMessage = `
               <svg class="w-16 h-16 text-green-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
               <h2 class="text-3xl font-extrabold text-yellow-400 mb-4">ONAYLANDINIZ! GÄ°ZLÄ° KODUNUZ HAZIR.</h2>
               <p class="text-lg text-gray-300 mb-6">
                   Tebrikler, **YÃ¼ksek Potansiyelli YatÄ±rÄ±mcÄ±** olarak onaylandÄ±nÄ±z. Kazanma yol haritasÄ±na eriÅŸiminiz saÄŸlandÄ±.
               </p>
               <p class="text-xl font-black text-white mb-8 bg-gray-700/50 p-3 rounded-lg border-2 border-yellow-400">
                   <span class="text-red-400">ğŸš¨ SON GÃ–REV:</span>
                   <br><span class="text-yellow-400 text-2xl">ASLAN ERTÃœRK'e Telegram'dan Mesaj AtÄ±n.</span>
                   <br><small class="text-sm text-red-300 block mt-2">NOT: Acil aktivasyon iÃ§in 'GÄ°ZLÄ° SÄ°STEM BAÅLAT' yazÄ±p gÃ¶nderin. **Åimdi baÅŸla ve 200 TL fÄ±rsatÄ±nÄ± kaÃ§Ä±rma. YarÄ±n 500 TL olacak!**</small>
               </p>
               <a href="${redirectLink}" target="_blank" class="w-full block bg-green-600 hover:bg-green-700 text-white font-black py-4 px-6 rounded-lg text-xl transition-colors shadow-xl uppercase">
                   <span class="mr-2">ğŸš€</span> ÅÄ°MDÄ° ASLAN ERTÃœRK'e BAÄLAN
               </a>
           `;


           const installMessage = `
               <svg class="w-16 h-16 text-blue-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
               <h2 class="text-3xl font-extrabold text-blue-400 mb-4">DURUM: TELEGRAM KURULUMU GEREKÄ°YOR</h2>
               <p class="text-lg text-gray-300 mb-6">
                   Gizli Sisteme eriÅŸim iÃ§in Telegram ÅŸarttÄ±r. LÃ¼tfen Ã¶nce uygulamayÄ± kurun, ardÄ±ndan aÅŸaÄŸÄ±daki butondan Aslan ErtÃ¼rk'e mesaj atÄ±n.
               </p>
               <a href="https://telegram.org/dl/" target="_blank" class="w-full block bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg text-xl transition-colors shadow-xl mb-4">
                   TELEGRAM'I KUR (ZORUNLU)
               </a>
               <a href="${redirectLink}" target="_blank" class="w-full block bg-green-600 hover:bg-green-700 text-white font-black py-4 px-6 rounded-lg text-xl transition-colors shadow-xl uppercase">
                   KURULUMDAN SONRA: ASLAN ERTÃœRK'e MESAJ AT
               </a>
           `;


           quizContent.innerHTML = needsInstall ? installMessage : successMessage;
           quizContent.style.opacity = '1';
           loader.classList.add('hidden');
       }


       // --- Initialization ---
       document.addEventListener('DOMContentLoaded', () => {
           startCountdown();
           // Initial call to start the quiz flow
           renderStep(1);
       });
   </script>
</body>
</html>


